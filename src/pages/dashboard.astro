---
import '../styles.css';
---
<html>
  <head><meta charset="utf-8"><title>Dashboard</title></head>
  <body>
    <div class="container">
      <div class="card">
        <h2>Dashboard</h2>
        <nav>
          <a href="/catalog" class="btn">Catalog</a>
          <a href="/tokens" class="btn" style="margin-left:8px">Tokens</a>
          <a href="/stats" class="btn" style="margin-left:8px">Stats</a>
          <a href="/bot-generator" class="btn" style="margin-left:8px">Bot Gen</a>
        </nav>
        <p style="margin-top:12px"><button id="btnLogout" class="btn">Logout</button></p>
        <div id="info" class="small" style="margin-top:12px"></div>
      </div>
    </div>

    <script>
      document.getElementById('btnLogout').addEventListener('click', async ()=>{
        await fetch('/api/logout',{method:'POST'});
        window.location='/';
      });

      // optional: fetch profile
      (async ()=>{
        const r = await fetch('/api/me');
        if(r.ok) { const j = await r.json(); document.getElementById('info').textContent = 'Logged in as: ' + (j.email||'unknown'); }
      })();
    </script>
  </body>
</html>
